
# 操作系统知识

## 操作系统概述

- **历年真题考情**：本章节每年都考3-5分左右

### 操作系统定义
能有效地组织和管理系统中的各种软/硬件资源，合理地组织计算机系统工作流程，控制程序的执行，并且向用户提供一个良好的工作环境和友好的接口。

**操作系统的重要作用**

1. 管理计算机中运行的程序和分配各种软硬件资源
2. 为用户提供友善的人机界面
3. 为应用程序的开发和运行提供一个高效率的平台

**操作系统的4个特征**

- 并发性
- 共享性
- 虚拟性
- 不确定性（异步性）

**操作系统的功能**

1. **进程管理**：实质上是对处理机的执行"时间"进行管理，采用多道程序等技术将CPU的时间合理地分配给每个任务，主要包括进程控制、进程同步、进程通信和进程调度
2. **文件管理**：主要包括文件存储空间管理、目录管理、文件的读/写管理和存取控制
3. **存储管理**：存储管理是对主存储器"空间"进行管理，主要包括存储分配与回收、存储保护、地址映射(变换)和主存扩充
4. **设备管理**：实质是对硬件设备的管理，包括对输入/输出设备的分配、启动、完成和回收
5. **作业管理**：包括任务、界面管理、人机交互、图形界面、语音控制和虚拟现实等

**操作系统的分类**

- **批处理操作系统**：单道批处理和多道批处理(主机与外设可并行)
- **分时操作系统**：一个计算机系统与多个终端设备连接。将CPU的工作时间划分为许多很短的时间片，轮流为各个终端的用户服务
- **实时操作系统**：实时是指计算机对于外来信息能够以足够快的速度进行处理，并在被控对象允许的时间范围内做出快速反应。实时系统对交互能力要求不高，但要求可靠性有保障
- **网络操作系统**：是使联网计算机能方便而有效地共享网络资源，为网络用户提供各种服务的软件和有关协议的集合。三种模式：集中模式、客户端/服务器模式、对等模式
- **分布式操作系统**：分布式计算机系统是由多个分散的计算机经连接而成的计算机系统，系统中的计算机无主、次之分，任意两台计算机可以通过通信交换信息
- **微型计算机操作系统**：简称微机操作系统，常用的有Windows、Mac OS、Linux

**嵌入式操作系统主要特点**

1. **微型化**：从性能和成本角度考虑，希望占用的资源和系统代码量少
2. **可定制**：要求能运行在不同的微处理器平台上，能针对硬件变化进行结构与功能上的配置
3. **实时性**：主要应用于过程控制、数据采集、传输通信等需要迅速响应的场合
4. **可靠性**：系统构件、模块和体系结构必须达到应有的可靠性
5. **易移植性**：通常采用硬件抽象层和板级支撑包的底层设计技术

**嵌入式系统初始化过程**：按照自底向上、从硬件到软件的次序依次为：片级初始化→板级初始化→系统初始化

## 进程管理

### 进程组成和状态

#### 进程的组成
- 进程控制块PCB（唯一标志）
- 程序（描述进程要做什么）
- 数据（存放进程执行时所需数据）

#### 进程状态
- 运行、阻塞、就绪三态图会考，五态图不考，了解

#### 考试真题
在单处理机系统中，采用先来先服务调度算法。系统中有4个进程P1、P2、P3、P4（假设进程按此顺序到达），其中P1为运行状态，P2为就绪状态，P3和P4为等待状态，且P3等待打印机，P4等待扫描仪。若P1（ ），则P1、P2、P3和P4的状态应分别为（ ）。

**选项A**：时间片到  
**选项B**：释放了扫描仪  
**选项C**：释放了打印机  
**选项D**：已完成  

**状态选项A**：等待、就绪、等待和等待  
**状态选项B**：运行、就绪、运行和等待  
**状态选项C**：就绪、运行、等待和等待  
**状态选项D**：就绪、就绪、等待和运行  

**选项分析**：选项A（时间片到）是唯一与状态选项C（就绪、运行、等待和等待）匹配的组合。虽然FCFS传统上无时间片，但题目提供此选项，可能是假设某种抢占式变体。

**结论**：若P1时间片到，则P1、P2、P3和P4的状态应分别为就绪、运行、等待和等待。即选择A和C。

## 前趋图

用来表示哪些任务可以并行执行，哪些任务之间有顺序关系。

可知，ABC可以并行执行，但是必须ABC都执行完后，才能执行D，这就确定了两点：任务间的并行、任务间的先后顺序。

## 进程资源图

### 基本概念
用来表示进程和资源之间的分配和请求关系。

- **P代表进程**，**R代表资源**，R方框中有几个圆球就表示有几个这种资源
- **R1指向P1**：表示R1有一个资源已经分配给了P1
- **P1指向R2**：表示P1还需要请求一个R2资源才能执行

### 节点类型
- **阻塞节点**：某进程所请求的资源已经全部分配完毕。无法获取所需资源，该进程被阻塞了无法继续
- **非阻塞节点**：某进程所请求的资源还有剩余可以分配给该进程继续运行

### 死锁状态
当一个进程资源图中所有进程都是阻塞节点时，即陷入死锁状态。

## 考试真题

在如下所示的进程资源图中，（ ）；该进程资源图是（ ）。

**问题一选项**：
A. P1、P2、P3都是阻塞节点  
B. P1是阻塞节点、P2、P3是非阻塞节点  
C. P1、P2是阻塞节点、P3是非阻塞节点  
D. P1、P2是非阻塞节点、P3是阻塞节点  

**问题二选项**：
A. 可以化简的，其化简顺序为P1→P2→P3  
B. 可以化简的，其化简顺序为P3→P1→P2  
C. 可以化简的，其化简顺序为P2→P1→P3  
D. 不可以化简的，因为P1、P2、P3申请的资源都不能得到满足  

### 问题1：判断进程的阻塞状态
- P1申请了R1和R2资源。若R1或R2已被其他进程占用，则P1会被阻塞
- P2申请了R3资源。若R3不可用，则P2会被阻塞
- P3申请了R1资源。若R1未被占用（假设当前R1空闲），则P3可以立即运行，是非阻塞节点

**结论**：C. P1、P2是阻塞节点，P3是非阻塞节点

### 问题2：判断进程资源图是否可以化简及化简顺序
**化简可行性分析**：
- P3是非阻塞节点，可以立即执行，执行后会释放R1资源
- P1因等待R1和R2被阻塞，但P3释放R1后，若R2可用，则P1可以运行
- P1运行后释放R2，使P2可以申请R3并执行

因此，系统可以通过逐步释放资源完成所有进程，不存在死锁，可以化简。

**化简顺序**：根据资源释放的依赖关系：P3（释放R1）→P1（释放R2）→P2（释放R3）

**结论**：B. 可以化简的，其化简顺序为P3→P1→P2

**最终答案**：
- 阻塞状态判断：C
- 化简顺序判断：B

> **注**：假设初始资源分配中R1未被占用（允许P3直接运行），且R2/R3初始可用。若资源初始状态不同，结论可能变化，需结合图中具体资源持有关系确认。

## 存储管理
- 分区存储管理
- 分页存储管理
- 分段存储管理
- 段页式存储管理

## 设备管理
- 设备管理概述
- I/O软件
- 设备管理技术

## 文件管理
- 文件管理概述
- 索引文件结构
- 文件目录
- 文件存储空间管理
