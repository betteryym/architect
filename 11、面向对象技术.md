# 面向对象开发

## 1. 面向对象基本概念

### 1.1 对象(Object)
对象是由数据及其操作所构成的封装体，是系统中用来描述客观事务的一个实体，是构成系统的一个基本单位。一个对象通常可以由对象名、属性和方法3个部分组成。

### 1.2 类(Class)
类是现实世界中实体的形式化描述，类将该实体的属性(数据)和操作(函数)封装在一起。对象是类的实例，类是对象的模板。

**类的分类：**
类可以分为三种：实体类、接口类(边界类)和控制类。
- **实体类**：实体类的对象表示现实世界中真实的实体，如人、物等
- **接口类(边界类)**：接口类的对象为用户提供一种与系统合作交互的方式，分为人和系统两大类
  - **人的接口**：显示屏、窗口、Web窗体、对话框、菜单、列表框、其他显示控制、条形码、二维码或者用户与系统交互的其他方法
  - **系统接口**：涉及到把数据发送到其他系统，或者从其他系统接收数据
- **控制类**：控制类的对象用于控制活动流，充当协调者

### 1.3 抽象(Abstraction)
抽象是通过特定的实例抽取共同特征以后形成概念的过程。它强调主要特征，忽略次要特征。一个对象是现实世界中一个实体的抽象，一个类是一组对象的抽象，抽象是一种单一化的描述，它强调给出与应用相关的特性，抛弃不相关的特性。

### 1.4 封装(Encapsulation)
封装是一种信息隐蔽技术，将相关的概念组成一个单元模块，并通过一个名称来引用。面向对象封装是将数据和基于数据的操作封装成一个整体对象，对数据的访问或修改只能通过对象对外提供的接口进行。

### 1.5 继承(Inheritance)
继承表示类之间的层次关系(父类与子类)，这种关系使得某类对象可以继承另外一类对象的特征，又可分为单继承和多继承。

### 1.6 多态(Polymorphism)
多态是不同的对象收到同一个消息时产生完全不同的结果。包括参数多态(不同类型参数多种结构类型)、包含多态(父子类型关系)、过载多态(类似于重载，一个名字不同含义)、强制多态(强制类型转换)四种类型。多态由继承机制支持，将通用消息放在抽象层，具体不同的功能实现放在底层。

### 1.7 接口(Interface)
接口是描述对操作规范的说明，其只说明操作应该做什么，并没有定义操作如何做。

### 1.8 消息(Message)
消息体现对象间的交互，通过它向目标对象发送操作请求。

### 1.9 覆盖(Overriding)
覆盖是子类在原有父类接口的基础上，用适合于自己要求的实现去置换父类中的相应实现。即在子类中重定义一个与父类同名同参的方法。

### 1.10 函数重载(Function Overloading)
函数重载与覆盖要区分开，函数重载与子类父类无关，且函数是同名不同参数。

### 1.11 绑定(Binding)
绑定是一个把过程调用和响应调用所需要执行的代码加以结合的过程。在一般的程序设计语言中，绑定是在编译时进行的，叫作静态绑定。动态绑定则是在运行时进行的，因此，一个给定的过程调用和代码的结合直到调用发生时才进行。

## 2. 面向对象的分析

### 2.1 面向对象分析定义
面向对象分析的目的是确定和理解问题域。包括五个活动：识别对象、组织对象、描述对象间的交互、确定对象的操作、定义对象的内部信息。

### 2.2 面向对象需求建模
面向对象需求建模包括两个主要模型：

#### 2.2.1 用例模型
- 识别参与者
- 合并需求获得用例
- 细化用例描述
- 调整用例模型

**用例模型要素：**
- 用例名称
- 简要说明
- 事件流
- 非功能需求
- 前置条件
- 后置条件
- 扩展点
- 优先级

**用例关系：**
- 包含关系(Include)
- 扩展关系(Extend)
- 泛化关系(Generalization)

#### 2.2.2 分析模型
- 定义概念类
- 识别类之间的关系
- 为类添加职责
- 建立交互图

**类之间的关系：**
- 依赖关系(Dependency)
- 关联关系(Association)
- 聚合关系(Aggregation)
- 组合关系(Composition)
- 泛化关系(Generalization)
- 实现关系(Realization)

## 3. 面向对象的设计

### 3.1 面向对象设计定义
面向对象设计是对分析模型进行设计，并实现相应的源代码。它提供问题域的解决方案，是与技术相关的。面向对象设计(OOD)应该遵循抽象、信息隐藏、功能独立、模块化等设计原则。

### 3.2 OOA和OOD模型组成
#### 3.2.1 面向对象的分析模型
主要由以下部分组成：
- 顶层架构图
- 用例与用例图
- 领域概念模型

#### 3.2.2 设计模型
包括：
- 以包图表示的软件体系结构图
- 以交互图表示的用例实现图
- 完整精确的类图
- 针对复杂对象的状态图
- 用以描述流程化处理过程的活动图等

### 3.3 设计过程
**输入：** 分析模型(包含用例模型和分析模型(领域模型))
**角色：** 设计师
**设计师任务：**
- 设计用例实现方案
- 设计技术支撑实施
- 设计用户界面
**输出：** 设计模型

## 4. 面向对象的设计原则

### 4.1 单一责任原则(Single Responsibility Principle)
一个类应该只有一个引起它变化的原因。当修改一个类时，应该只有一个原因，确保一个类只承担一种类型的职责。

### 4.2 开放-封闭原则(Open-Closed Principle)
软件实体(类、模块、函数等)应该对扩展开放，对修改封闭。

### 4.3 里氏替换原则(Liskov Substitution Principle)
子类型必须能够替换它们的基类型。也就是说，在任何父类可以出现的地方，子类的实例也可以用来赋值给父类型的引用。

### 4.4 依赖倒置原则(Dependency Inversion Principle)
抽象不应该依赖于细节，细节应该依赖于抽象。具体来说，高层模块不应该依赖于低层模块，两者都应该依赖于抽象。

### 4.5 接口分离原则(Interface Segregation Principle)
客户端不应该被迫依赖于它们不使用的接口。接口属于客户端，而不是它们所在的类层次结构。也就是说，依赖于抽象，而不是具体实现，在抽象层面，不应该有对细节的依赖。这样做的好处是最大化对可能变化的适应性。

## 5. 面向对象的测试

### 5.1 测试层次
一般来说，对面向对象软件的测试可分为下列4个层次进行：

1. **算法层**：测试类中定义的每个方法，这基本上等价于传统软件测试中的单元测试
2. **类层**：测试封装在同一个类中的所有方法和属性之间的交互。在面向对象软件中，类是基本模块，因此这可以认为是面向对象测试所特有的模块测试
3. **模板层**：测试一组协作类之间的交互，大体上等价于传统软件测试中的集成测试，但也结合了面向对象软件的特点(如对象通过发送消息进行交互)
4. **系统层**：将各种子系统组装成完整的面向对象软件系统，在组装过程中进行测试

# 分析设计测试

# 统一建模语言UML

# 事务关系图

# 设计模式



# 真题

## 真题1：方法重载

**题目：** 一个类中可以拥有多个名称相同而参数表(参数类型或参数个数或参数类型顺序)不同的方法，称为()。

**选项：**
- A. 方法标记 (Method Tagging)
- B. 方法调用 (Method Invocation)
- C. 方法重载 (Method Overloading)
- D. 方法覆盖 (Method Overriding)

**答案：** C

**解析：** 方法重载是指在同一个类中定义多个同名但参数列表不同的方法。参数列表的不同可以体现在参数类型、参数个数或参数类型顺序上。

## 真题2：类的分类

**题目：** 在某销售系统中，客户采用扫描二维码进行支付。若采用面向对象方法开发该销售系统，则客户类属于()类，二维码类属于()类。

**选项：**
- A. 接口 (Interface)
- B. 实体 (Entity)
- C. 控制 (Control)
- D. 状态 (State)

**答案：** BA

**解析：**
- **客户类**：直接映射业务中的客户实体，存储属性和基础行为，属于实体类
- **二维码类**：若负责与外部支付系统交互(如生成二维码、处理扫描逻辑)，则属于接口类(边界类)；若仅存储二维码数据，则为实体类。但题目强调"扫描二维码进行支付"，隐含交互逻辑，故更倾向接口类

## 真题3：面向对象分析设计模型

**题目：** 面向对象的分析模型主要由顶层架构图、用例与用例图和()构成；设计模型则包含以()表示的软件体系结构图、以交互图表示的用例实现图、完整精确的类图、描述复杂对象的()和用以描述流程化处理过程的活动图等。

**选项：**
- A. 数据流模型 (Data Flow Model)
- B. 领域概念模型 (Domain Concept Model)
- C. 功能分解图 (Functional Decomposition Diagram)
- D. 功能需求模型 (Functional Requirement Model)
- A. 模型视图控制器 (Model-View-Controller)
- B. 组件图 (Component Diagram)
- C. 包图 (Package Diagram)
- D. 2层、3层或N层 (2-layer, 3-layer, or N-layer)
- A. 序列图 (Sequence Diagram)
- B. 协作图 (Collaboration Diagram)
- C. 流程图 (Flowchart)
- D. 状态图 (State Diagram)

**答案：** BCD

**解析：**
- **第一空：领域概念模型** - 面向对象的分析模型主要由顶层架构图、用例与用例图和领域概念模型构成。领域概念模型描述了问题域中的核心概念、实体及其关系，通常用类图表示，是分析阶段的重要工件
- **第二空：包图** - 设计模型的软件体系结构图使用包图表示。包图通过展示系统中的包及其依赖关系，提供高层次的模块化视图，帮助组织和管理系统的复杂性
- **第三空：状态图** - 设计模型中需要状态图来描述复杂对象的状态变化。状态图适用于展示对象在其生命周期内不同状态之间的转换逻辑，例如订单状态从"待支付"到"已发货"的流程

## 真题4：面向对象设计原则

**题目：** 在面向对象设计的原则中，()原则是指抽象不应该依赖于细节，细节应该依赖于抽象，即应针对接口编程，而不是针对实现编程。

**选项：**
- A. 开闭 (Open/Closed)
- B. 里氏替换 (Liskov Substitution)
- C. 最少知识 (Least Knowledge)
- D. 依赖倒置 (Dependency Inversion)

**答案：** D

**解析：** 依赖倒置原则(Dependency Inversion Principle)是指抽象不应该依赖于细节，细节应该依赖于抽象。具体来说，高层模块不应该依赖于低层模块，两者都应该依赖于抽象。这意味着应该针对接口编程，而不是针对实现编程。

